---
import Button from '../components/Button.astro';
import SectionHeader from '../components/SectionHeader.astro';
---

<section class="py-24 md:py-32 bg-bg-surface/30" id="get-started">
  <div class="max-w-4xl mx-auto px-6">
    <div class="text-center mb-16">
      <SectionHeader title="Get Started" subtitle="Run it locally in minutes" num="04" />
      <p class="text-lg text-text-secondary max-w-2xl mx-auto mt-6">
        Concilium is open source and ready to build. Clone the repo, configure your environment, and build the app.
      </p>
    </div>

    <div class="space-y-8">
      
       <!-- Step 1: Requirements -->
      <div class="bg-bg-page border border-border-primary rounded-xl p-6 md:p-8 hover:border-border-secondary transition-colors duration-300">
         <div class="flex items-center gap-4 mb-4">
          <div class="w-8 h-8 rounded-full bg-provider-opencode/10 border border-provider-opencode/20 flex items-center justify-center text-provider-opencode font-bold text-sm">1</div>
          <h3 class="text-lg font-semibold text-text-primary">Prerequisites</h3>
        </div>
        <ul class="space-y-3 text-sm text-text-secondary ml-12">
          <li class="flex items-center gap-3">
            <div class="w-1.5 h-1.5 rounded-full bg-green-primary"></div>
            <span>Node.js 18+ installed</span>
          </li>
          <li class="flex items-center gap-3">
            <div class="w-1.5 h-1.5 rounded-full bg-green-primary"></div>
            <span>macOS 12+ (Apple Silicon or Intel) or Linux</span>
          </li>
          <li class="flex items-start gap-3">
            <div class="w-1.5 h-1.5 rounded-full bg-green-primary mt-1.5"></div>
            <span>At least one CLI agent: <code class="text-provider-claude bg-provider-claude/10 px-1.5 py-0.5 rounded text-xs border border-provider-claude/20">claude</code>, <code class="text-provider-codex bg-provider-codex/10 px-1.5 py-0.5 rounded text-xs border border-provider-codex/20">codex</code>, or <code class="text-provider-opencode bg-provider-opencode/10 px-1.5 py-0.5 rounded text-xs border border-provider-opencode/20">opencode</code></span>
          </li>
        </ul>
      </div>

      <!-- Step 2: Clone -->
      <div class="bg-bg-page border border-border-primary rounded-xl p-6 md:p-8 hover:border-border-secondary transition-colors duration-300">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-8 h-8 rounded-full bg-provider-opencode/10 border border-provider-opencode/20 flex items-center justify-center text-provider-opencode font-bold text-sm">2</div>
          <h3 class="text-lg font-semibold text-text-primary">Clone the repository</h3>
        </div>
        <div class="bg-bg-surface border border-border-secondary rounded-lg p-4 font-mono text-sm text-text-secondary overflow-x-auto group relative">
          <div class="flex items-center">
            <span class="select-none text-text-muted mr-3">$</span>
            <span class="text-text-primary">git clone https://github.com/matiasdaloia/concilium.git</span>
          </div>
        </div>
      </div>

       <!-- Step 3: Configure Environment -->
      <div class="bg-bg-page border border-border-primary rounded-xl p-6 md:p-8 hover:border-border-secondary transition-colors duration-300">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-8 h-8 rounded-full bg-provider-opencode/10 border border-provider-opencode/20 flex items-center justify-center text-provider-opencode font-bold text-sm">3</div>
          <h3 class="text-lg font-semibold text-text-primary">Configure Environment</h3>
        </div>
        <p class="text-sm text-text-secondary mb-4">
          Create a <code class="text-text-primary bg-white/5 px-1.5 py-0.5 rounded">.env</code> file in the <code class="text-text-primary bg-white/5 px-1.5 py-0.5 rounded">desktop</code> directory with your OpenRouter API key.
        </p>
        <div class="bg-bg-surface border border-border-secondary rounded-lg p-4 font-mono text-sm text-text-secondary overflow-x-auto">
          <div class="flex items-center mb-2">
            <span class="select-none text-text-muted mr-3">$</span>
            <span class="text-text-primary">cd concilium/desktop</span>
          </div>
          <div class="flex items-center">
            <span class="select-none text-text-muted mr-3">$</span>
            <span class="text-text-primary">echo "OPENROUTER_API_KEY=sk-or-..." > .env</span>
          </div>
        </div>
      </div>

      <!-- Step 4: Install & Build -->
      <div class="bg-bg-page border border-border-primary rounded-xl p-6 md:p-8 hover:border-border-secondary transition-colors duration-300">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-8 h-8 rounded-full bg-provider-opencode/10 border border-provider-opencode/20 flex items-center justify-center text-provider-opencode font-bold text-sm">4</div>
          <h3 class="text-lg font-semibold text-text-primary">Install & Build</h3>
        </div>
        <div class="bg-bg-surface border border-border-secondary rounded-lg p-4 font-mono text-sm text-text-secondary overflow-x-auto">
          <div class="flex items-center mb-2">
            <span class="select-none text-text-muted mr-3">$</span>
            <span class="text-text-primary">npm install</span>
          </div>
          <div class="flex items-center">
            <span class="select-none text-text-muted mr-3">$</span>
            <span class="text-text-primary">npm run build</span>
          </div>
        </div>
        <p class="mt-4 text-sm text-text-muted">
          This will install dependencies and package the application into the <code class="text-text-primary bg-white/5 px-1.5 py-0.5 rounded">out/</code> directory.
        </p>
      </div>

       <!-- Step 5: Run -->
      <div class="bg-bg-page border border-border-primary rounded-xl p-6 md:p-8 hover:border-border-secondary transition-colors duration-300">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-8 h-8 rounded-full bg-provider-opencode/10 border border-provider-opencode/20 flex items-center justify-center text-provider-opencode font-bold text-sm">5</div>
          <h3 class="text-lg font-semibold text-text-primary">Run the Application</h3>
        </div>
        <p class="text-sm text-text-secondary mb-4">
          Locate the built executable in the <code class="text-text-primary bg-white/5 px-1.5 py-0.5 rounded">out/</code> directory.
        </p>
        
        <div class="space-y-4">
          <!-- macOS -->
          <div>
             <span class="text-[10px] text-text-muted uppercase tracking-wider font-semibold mb-1 block">macOS</span>
             <div class="bg-bg-surface border border-border-secondary rounded-lg p-3 font-mono text-sm text-text-secondary overflow-x-auto">
              <div class="flex items-center">
                <span class="select-none text-text-muted mr-3">$</span>
                <span class="text-text-primary">open out/Concilium-darwin-arm64/Concilium.app</span>
              </div>
            </div>
          </div>

          <!-- Linux -->
          <div>
             <span class="text-[10px] text-text-muted uppercase tracking-wider font-semibold mb-1 block">Linux</span>
             <div class="bg-bg-surface border border-border-secondary rounded-lg p-3 font-mono text-sm text-text-secondary overflow-x-auto">
              <div class="flex items-center">
                <span class="select-none text-text-muted mr-3">$</span>
                <span class="text-text-primary">./out/Concilium-linux-x64/concilium</span>
              </div>
            </div>
          </div>

           <!-- Windows -->
          <div>
             <span class="text-[10px] text-text-muted uppercase tracking-wider font-semibold mb-1 block">Windows</span>
             <div class="bg-bg-surface border border-border-secondary rounded-lg p-3 font-mono text-sm text-text-secondary overflow-x-auto">
              <div class="flex items-center">
                <span class="select-none text-text-muted mr-3">&gt;</span>
                <span class="text-text-primary">.\out\Concilium-win32-x64\Concilium.exe</span>
              </div>
            </div>
          </div>
        </div>

         <p class="mt-4 text-sm text-text-muted">
          Note: The folder name may vary depending on your architecture (e.g., <code class="text-xs">darwin-x64</code> for Intel Macs).
        </p>
      </div>

    </div>

    <div class="mt-16 text-center">
       <Button variant="secondary" size="lg" href="https://github.com/matiasdaloia/concilium" className="border-white/10 hover:border-white/20 bg-white/5 backdrop-blur-sm">
        View on GitHub
      </Button>
    </div>
  </div>
</section>